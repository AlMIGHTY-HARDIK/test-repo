# test-repo


+-------------------+         +-------------------+         +-------------------+
|       Patient      |         |  Medical Device  |         |  User Interface   |
+-------------------+         +-------------------+         +-------------------+
           |                     |                     |
           v                     v                     v
+-------------------+         +-------------------+         +-------------------+
|  Data Upload App  |         |  Data Preprocess  |         |  Data Preprocess  |
+-------------------+         +-------------------+         +-------------------+
           |                     |                     |
           v                     v                     v
+-------------------+         +-------------------+         +-------------------+
|       Fog Server  | <------> |  Chunking &       | <------> |  Chunking &       |
+-------------------+         |  Deduplication    |         |  Deduplication    |
           |                     |                     |
           v                     v                     v
+-------------------+         +-------------------+         +-------------------+
|  Encryption &     |         |  Key Splitting     |         |  Encryption &     |
|  Key Sharing     |         |  (Shamir's Secret) |         |  Key Sharing     |
+-------------------+         +-------------------+         +-------------------+
           |                     |                     |
           v                     v                     v
+-------------------+         +-------------------+         +-------------------+
|   Data Upload     | <------> |   Cloud Storage 1  | <------> |   Cloud Storage 2  |
|                   |         +-------------------+         +-------------------+
+-------------------+         |          ...         |         |          ...         |
                             +-------------------+         +-------------------+
                             |   Cloud Storage N  |         |                   |
                             +-------------------+         +-------------------+
           |                     |                     |
           v                     v                     v
+-------------------+         +-------------------+
|  Access Request    |         |  Decryption &      |         |  Decryption &      |
+-------------------+         |  Chunk Assembly   |         |  Chunk Assembly   |
           |                     |                     |
           v                     v                     v
+-------------------+         +-------------------+         +-------------------+
|       Patient      |         |  Medical Record  |         |  User Interface   |
+-------------------+         +-------------------+         +-------------------+
